<div class="flex min-w-0 flex-auto flex-col bg-card dark:bg-default">
    <!-- Header -->
    <div class="flex items-start justify-between px-6 md:px-10 py-6">
        <div class="min-w-0">
            <h2 class="mt-1 truncate text-3xl font-extrabold leading-7 tracking-tight sm:leading-10 md:text-4xl">Proyectos</h2>
            <div class="mt-1 text-sm text-secondary">Explora y filtra los proyectos por estado</div>
        </div>
        <div class="hidden sm:flex items-center gap-2">
            <button mat-stroked-button color="primary" (click)="openRegistroProyecto()">
                <mat-icon class="icon-size-5" [svgIcon]="'heroicons_outline:plus-circle'"></mat-icon>
                <span class="ml-2">Nuevo</span>
            </button>
        </div>
    </div>
    <mat-divider class="mb-2"></mat-divider>

    <!-- Main -->
    <div class="flex-auto px-6 md:px-10 pb-10">
        <div class="mb-6 sm:mb-8">
            <mat-button-toggle-group
                class="-m-2 flex flex-wrap"
                [(ngModel)]="selectedFilter"
                (change)="onFilterChange($event)"
            >
                @for (filter of filters; track filter) {
                    <mat-button-toggle class="m-2" [value]="filter">
                        <span class="text-secondary">{{
                            filter | titlecase
                        }}</span>
                        <span class="text-secondary ml-1.5 font-medium"
                            >({{ numberOfCards[filter] }})</span
                        >
                    </mat-button-toggle>
                }
            </mat-button-toggle-group>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-5 items-stretch">
            @for (proyecto of proyectos$ | async; track proyecto.proyectoId) {
                <div class="h-full" #proyectoCard [ngClass]="'filter-' + ((proyecto.estado?.nombre || proyecto.estado?.descripcion)?.toLowerCase() || 'estado')">
                    <app-proyecto-card [proyecto]="proyecto"></app-proyecto-card>
                </div>
            }
        </div>
    </div>


</div>
